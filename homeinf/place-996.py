#!/usr/bin/env python

# Mikhail (myke) Kolodin, 2025
# 2025-11-13 2025-11-13 3.0
# place-996.py

# ~ Место числа 996

# ~ Все натуральные числа от 1 до 1000 выписали в следующем порядке:
# ~ сначала были выписаны в порядке возрастания числа, сумма цифр которых равна 1,
# ~ затем (также в порядке возрастания) — числа, сумма цифр которых равна 2,
# ~ потом числа, сумма цифр которых равна 3 и т. д.
# ~ На каком месте окажется число 996?

NUMBER = 996

# ----------------------------------------------
# ver.1

from collections import defaultdict

nums = defaultdict(list)

def summa(i):
    """подсчитать сумму цифр цисла"""
    return sum( map(int, str(i) ))
    

for i in range(1, 1001):
    nums[summa(i)].append(i)
# ~ print(nums)

places = 0

for k in sorted(nums.keys()):
    # ~ print(k, end=", ")
    # ~ print()
    if NUMBER in nums[k]:
        ind = nums[k].index(NUMBER)
        print(f"число {NUMBER} находится на {places + ind + 1} месте")
        break
    else:
        places += len(nums[k])
        

# ----------------------------------------------
# ver.2

nums = list(range(1, 1001))
nums.sort(key = lambda x: (summa(x), x))
# ~ print(nums)
print(f"число {NUMBER} находится на {nums.index(NUMBER) + 1} месте")


# ----------------------------------------------
# ver.3

print(f"число {NUMBER} находится на { sorted( list( range(1, 1001)) , key = lambda x: ( sum( map(int, str(x) )) , x)) .index(NUMBER) + 1} месте")


# ----------------------------------------------

число 996 находится на 990 месте
число 996 находится на 990 месте
число 996 находится на 990 месте


# ----------------------------------------------
# ~ Из группы ТГ "Ёжик в матане"

# ~ Дорогие коллеги!

# ~ В последнее время я всё больше восхищаюсь возможностями современных нейросетей. Они часто допускают ошибки, но иногда их ответы настолько точны и глубоки, что это просто поражает. На днях я решил провести небольшой эксперимент — LLM Battle. Выбрал несколько современных нейросетей и задал им простую детскую задачу из 5-го класса творческой лаборатории «2х2». Задача совсем несложная. Попробуйте решить её сами:
# ~ --------------------------------------------------------------
# ~ Все натуральные числа от 1 до 1000 выписали в следующем порядке: сначала были выписаны в порядке возрастания числа, сумма цифр которых равна 1, затем (также в порядке возрастания) — числа, сумма цифр которых равна 2, потом числа, сумма цифр которых равна 3 и т. д. На каком месте окажется число 996?
# ~ --------------------------------------------------------------

# ~ С этим вопросом я попал просто в яблочко. Абсолютно все нейронки продемонстрировали, что такое «сила есть — ума не надо».

# ~ Давайте смотреть подробнее:

# ~ DeepSeek: После смутных вычислений (используя комбинаторные формулы или программный подсчёт) получил, что число 996 будет стоять на... 1771 месте. После моего уточняющего вопроса: «Всего чисел 1000. Как 996 может стоять на месте 1771??» признался, что был не прав, и выдал правильный ответ: «990», но всё равно считал неоптимально. После моей подсказки о том, как считать оптимально, выдал хорошее и правильное решение.

# ~ Claude 3 Haiku: После размышлений на страницу выдал следующее: Пусть T = числа со всеми суммами от 1 до 23, включая 996 и 999.
# ~ Количество таких чисел будет явно нужным результатом. Согласно последовательности будет очевидно, что 996 местоположение точно на подпозиции одна тысяча (999 в объединении), кроме счета для всех меньших.
# ~ В результате, по всем расчётам число 996 окажется на месте в итоге = T+1. Чтобы дать точный ответ для конечной позиции: число 996 окажется на позиции T+1. После четырёх моих просьб «Продолжай», ИИ дал неправильный ответ: «Таким образом, число 996 окажется на 91-м месте в этой группе, то есть на 907-м месте общего списка».

# ~ Qwen3 0.6B: Таким образом, 996 находится в середине между 999 и 1000 (без комментариев).

# ~ GPT-4o: Вычислил количество чисел с каждой суммой до 24 и выдал ответ: «Таким образом, число 996 окажется на 325-м месте в этом списке». После моих подсказок постарался вычислить ещё раз, но опять выдал неправильный ответ.

# ~ Google Gemini 2.5 Pro: Аккуратно вычислил все числа с суммой цифр от 1 до 23, определил место числа 996 в ряду чисел с суммой цифр, равной 24, и выдал правильный ответ — 990. После моей подсказки о том, как считать оптимально — снова вычислил правильный ответ слишком сложно.

# ~ Microsoft Phi 4 Reasoning Plus: Считал очень долго, сложно и непонятно. Но в конце-концов получил правильный ответ — 990.

# ~ Meta Llama 4 Maverick: Очень быстро выдала правильный ответ. На мою просьбу написать решение, и уточнить своё решение — выдала что-то весьма запутанное, но понятно, что эта нейросеть тоже считала данное число "в лоб" (см. картинку)

# ~ Ну что? Как мне кажется, ИИ ещё пока не везде обошёл человека в математических задачах. А то я уже начал было сомневаться.

# ~ #ёжик_пишет
# ~ #компьютерные_системы
# ----------------------------------------------
